@{
    ViewBag.Title = "Indicadores";
    ViewBag.Icono = "fa fa-bar-chart";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


@section Styles {
    @Styles.Render("~/bundles/select2/css")
}
<!-- App styles -->
<link href="~/Vendor/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css" rel="stylesheet" />
<link rel="stylesheet" href="~/vendor/chartist/custom/chartist.css" />
<link href="~/Vendor/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet" />

<div class="panel-body">
    <div class="panel-heading" style="background-color:white;  border:solid 1px; border-color:#e4e5e7">
        <div class="panel-body">

            <div id="hbreadcrumb" class="pull-right">

                <button type="button" class="btn btn-mini btn-default" style="border-radius:25px" data-container="body" data-toggle="popover" data-placement="left" data-title="Enlaces" data-content="<ul>@ViewBag.nombreEnlaces</ul>" data-html="true">
                    <i class="text-info fa fa-tags"></i>
                </button>
                <button type="button" class="btn btn-mini btn-default" style="border-radius:25px" data-container="body" data-toggle="popover" data-placement="left" data-title="Documentos" data-content="<ul></i><a href=''>Documento 1</a></ul>  <ul></i><a href=''>Documento 2</a></ul> <ul></i><a href=''>Documento 3</a></ul>" data-html="true">
                    <i class="text-primary fa fa-files-o"></i>
                </button>
                <button type="button" class="btn btn-mini btn-default" style="border-radius:25px" data-container="body" data-toggle="popover" data-placement="left" data-title="Favoritos" data-content="@ViewBag.Favoritos" data-html="true">
                    <i class="text-warning fa fa-star"></i>
                </button>

            </div>
            <h3 class="font-light m-b-xs">
                <i class="text-info @ViewBag.Icono"></i>&nbsp;&nbsp;@ViewBag.Title
            </h3>
            <small>Registro @ViewBag.Title</small>
        </div>
    </div>
</div>

<div class="content">
    <div class="col-lg-3" id="solicitadosVSaprobados">
        <div class="hpanel plan-box">
            <div class="panel-heading hbuilt text-center">
                <h5 class="font-bold">Solicitados VS Aprobados</h5>
            </div>
            <div class="panel-body text-center">
                <i class="fa fa-compress big-icon text-success"></i>
                <div class="row">
                    <br />
                    <button type="button" class="btn text-center btn-success" id="btn_sol_vs_apro" data-target=".modal_sol_vs_apro" data-toggle="modal">
                        Comparativo
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3" id="aprobadosVSfacturados">
        <div class="hpanel plan-box">
            <div class="panel-heading hbuilt text-center">
                <h5 class="font-bold">Aprobados VS Facturados</h5>
            </div>
            <div class="panel-body text-center">
                <i class="fa fa-compress big-icon text-info"></i>
                <div class="row">
                    <br />
                    <button type="button" class="btn text-center btn-info" id="btn_apro_vs_fac" data-target=".modal_apro_vs_fact" data-toggle="modal">
                        Comparativo
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3" id="aprobadosVSdesistidos">
        <div class="hpanel plan-box">
            <div class="panel-heading hbuilt text-center">
                <h5 class="font-bold">Aprobados VS Desistidos</h5>
            </div>
            <div class="panel-body text-center">
                <i class="fa fa-compress big-icon text-primary"></i>
                <div class="row">
                    <br />
                    <button type="button" class="btn text-center btn-primary" id="btn_apro_vs_desis" data-target=".modal_apro_vs_desis" data-toggle="modal">
                        Comparativo
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3" id="solicitadosVSrechazados">
        <div class="hpanel plan-box">
            <div class="panel-heading hbuilt text-center">
                <h5 class="font-bold">Solicitados VS Rechazados</h5>
            </div>
            <div class="panel-body text-center">
                <i class="fa fa-compress big-icon text-warning"></i>
                <div class="row">
                    <br />
                    <button type="button" class="btn text-center btn-warning" id="btn_sol_vs_recha" data-target=".modal_sol_vs_rec" data-toggle="modal">
                        Comparativo
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3" id="aprobadosSinCerrar">
        <div class="hpanel plan-box">
            <div class="panel-heading hbuilt text-center">
                <h5 class="font-bold">Aprobados Sin Cerrar</h5>
            </div>
            <div class="panel-body text-center">
                <i class="fa fa-close big-icon text-primary-2"></i>
                <div class="row">
                    <br />
                    <button type="button" class="btn text-center btn-primary2" id="btn_aprobados_sin_cerrar" data-target=".modal_aproSinConfirmar" data-toggle="modal">
                        Ver
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3" id="financieraPenetracion">
        <div class="hpanel plan-box">
            <div class="panel-heading hbuilt text-center">
                <h5 class="font-bold">Financiera Con Más Penetración</h5>
            </div>
            <div class="panel-body text-center">
                <i class="fa fa-arrow-circle-o-up big-icon text-danger"></i>
                <div class="row">
                    <br />
                    <button type="button" class="btn text-center btn-danger" id="btn_financieras_penetracion" data-target=".modal_financierasMasPenetracion" data-toggle="modal">
                        Ver
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3" id="financieraPorDesembolso">
        <div class="hpanel plan-box">
            <div class="panel-heading hbuilt text-center">
                <h5 class="font-bold">Financiera Por Desembolso</h5>
            </div>
            <div class="panel-body text-center">
                <i class="fa fa-arrow-circle-o-up big-icon" style="color:#0026ff"></i>
                <div class="row">
                    <br />
                    <button type="button" class="btn text-center" style="background-color:#0026ff; color:white" id="btn_por_desembolso" data-target=".modal_financierasMasDesembolso" data-toggle="modal">
                        Ver
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade modal_sol_vs_apro" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="col-md-4" id="fechas_consulta">
                <label>Fechas</label>
                <div class="input-daterange input-group" id="datepicker">
                    <input type="text" class="input-sm form-control fechaDesde" name="fechaDesde1" id="fechaDesde1" value="@ViewBag.fecha_desde" placeholder="Fecha Inicio" required="required" style="width:110px" onblur="validarFechas1()" />
                    <span class="input-group-addon">Hasta</span>
                    <input type="text" class="input-sm form-control fechaHasta" name="fechaHasta1" id="fechaHasta1" value="@ViewBag.fecha_hasta" placeholder="Fecha Fin" required="required" style="width:110px" onblur="validarFechas1()" />
                </div>
            </div>
            <span class="text-danger errorFechas" id="errorFechas1" style="display:none"><strong>Error en las fechas</strong></span>
            <table class="table table-striped table-bordered table-hover" id="tabla_solicitados_vs_aprobados">
                <thead>
                    <tr>
                        <th style="text-align:center">Solicitados</th>
                        <th style="text-align:center">Aprobados</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</div>
<div class="modal fade modal_apro_vs_fact" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="col-md-4" id="fechas_consulta">
                <label>Fechas</label>
                <div class="input-daterange input-group" id="datepicker">
                    <input type="text" class="input-sm form-control fechaDesde" name="fechaDesde2" id="fechaDesde2" value="@ViewBag.fecha_desde" placeholder="Fecha Inicio" required="required" style="width:110px" onblur="validarFechas2()" />
                    <span class="input-group-addon">Hasta</span>
                    <input type="text" class="input-sm form-control fechaHasta" name="fechaHasta2" id="fechaHasta2" value="@ViewBag.fecha_hasta" placeholder="Fecha Fin" required="required" style="width:110px" onblur="validarFechas2()" />
                </div>
            </div>
            <span class="text-danger errorFechas" id="errorFechas2" style="display:none"><strong>Error en las fechas</strong></span>
            <table class="table table-striped table-bordered table-hover" id="tabla_aprobados_vs_facturados">
                <thead>
                    <tr>
                        <th style="text-align:center">Aprobados</th>
                        <th style="text-align:center">Facturados</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</div>
<div class="modal fade modal_apro_vs_desis" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="col-md-4" id="fechas_consulta">
                <label>Fechas</label>
                <div class="input-daterange input-group" id="datepicker">
                    <input type="text" class="input-sm form-control fechaDesde" name="fechaDesde3" id="fechaDesde3" value="@ViewBag.fecha_desde" placeholder="Fecha Inicio" required="required" style="width:110px" onblur="validarFechas3()" />
                    <span class="input-group-addon">Hasta</span>
                    <input type="text" class="input-sm form-control fechaHasta" name="fechaHasta3" id="fechaHasta3" value="@ViewBag.fecha_hasta" placeholder="Fecha Fin" required="required" style="width:110px" onblur="validarFechas3()" />
                </div>
            </div>
            <span class="text-danger errorFechas" id="errorFechas3" style="display:none"><strong>Error en las fechas</strong></span>
            <table class="table table-striped table-bordered table-hover" id="tabla_aprobados_vs_desistidos">
                <thead>
                    <tr>
                        <th style="text-align:center">Aprobados</th>
                        <th style="text-align:center">Desistidos</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</div>
<div class="modal fade modal_sol_vs_rec" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="col-md-4" id="fechas_consulta">
                <label>Fechas</label>
                <div class="input-daterange input-group" id="datepicker">
                    <input type="text" class="input-sm form-control fechaDesde" name="fechaDesde4" id="fechaDesde4" value="@ViewBag.fecha_desde" placeholder="Fecha Inicio" required="required" style="width:110px" onblur="validarFechas4()" />
                    <span class="input-group-addon">Hasta</span>
                    <input type="text" class="input-sm form-control fechaHasta" name="fechaHasta4" id="fechaHasta4" value="@ViewBag.fecha_hasta" placeholder="Fecha Fin" required="required" style="width:110px" onblur="validarFechas4()" />
                </div>
            </div>
            <span class="text-danger errorFechas" id="errorFechas4" style="display:none"><strong>Error en las fechas</strong></span>
            <table class="table table-striped table-bordered table-hover" id="tabla_solicitados_vs_rechazados">
                <thead>
                    <tr>
                        <th style="text-align:center">Solicitados</th>
                        <th style="text-align:center">Rechazados</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</div>
<div class="modal fade modal_aproSinConfirmar" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="col-md-4" id="fechas_consulta">
                <label>Fechas</label>
                <div class="input-daterange input-group" id="datepicker">
                    <input type="text" class="input-sm form-control fechaDesde" name="fechaDesde5" id="fechaDesde5" value="@ViewBag.fecha_desde" placeholder="Fecha Inicio" required="required" style="width:110px" onblur="validarFechas5()" />
                    <span class="input-group-addon">Hasta</span>
                    <input type="text" class="input-sm form-control fechaHasta" name="fechaHasta5" id="fechaHasta5" value="@ViewBag.fecha_hasta" placeholder="Fecha Fin" required="required" style="width:110px" onblur="validarFechas5()" />
                </div>
            </div>
            <span class="text-danger errorFechas" id="errorFechas4" style="display:none"><strong>Error en las fechas</strong></span>
            <table class="table table-striped table-bordered table-hover" id="tabla_aprobados_sin_confirmar">
                <thead>
                    <tr>
                        <th style="text-align:center">Aprobados</th>
                        <th style="text-align:center">Sin Confirmar</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</div>
<div class="modal fade modal_financierasMasPenetracion" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="col-md-4" id="fechas_consulta">
                <label>Fechas</label>
                <div class="input-daterange input-group" id="datepicker">
                    <input type="text" class="input-sm form-control fechaDesde" name="fechaDesde5" id="fechaDesde6" value="@ViewBag.fecha_desde" placeholder="Fecha Inicio" required="required" style="width:110px" onblur="validarFechas6()" />
                    <span class="input-group-addon">Hasta</span>
                    <input type="text" class="input-sm form-control fechaHasta" name="fechaHasta5" id="fechaHasta6" value="@ViewBag.fecha_hasta" placeholder="Fecha Fin" required="required" style="width:110px" onblur="validarFechas6()" />
                </div>
            </div>
            <span class="text-danger errorFechas" id="errorFechas4" style="display:none"><strong>Error en las fechas</strong></span>
            <table class="table table-striped table-bordered table-hover" id="tabla_financieras_mas_penetracion">
                <thead>
                    <tr>
                        <th style="text-align:center">Financiera</th>
                        <th style="text-align:center">Créditos Asignados</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</div>
<div class="modal fade modal_financierasMasDesembolso" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="col-md-4" id="fechas_consulta">
                <label>Fechas</label>
                <div class="input-daterange input-group" id="datepicker">
                    <input type="text" class="input-sm form-control fechaDesde" name="fechaDesde5" id="fechaDesde7" value="@ViewBag.fecha_desde" placeholder="Fecha Inicio" required="required" style="width:110px" onblur="validarFechas7()" />
                    <span class="input-group-addon">Hasta</span>
                    <input type="text" class="input-sm form-control fechaHasta" name="fechaHasta5" id="fechaHasta7" value="@ViewBag.fecha_hasta" placeholder="Fecha Fin" required="required" style="width:110px" onblur="validarFechas7()" />
                </div>
            </div>
            <span class="text-danger errorFechas" id="errorFechas4" style="display:none"><strong>Error en las fechas</strong></span>
            <table class="table table-striped table-bordered table-hover" id="tabla_financieras_mas_desembolso">
                <thead>
                    <tr>
                        <th style="text-align:center">Financiera</th>
                        <th style="text-align:center">Créditos Desmbolsados</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</div>

<!-- Vendor scripts -->
@section Scripts {
    @Scripts.Render("~/bundles/select2/js")
    <script src="~/Vendor/datatables/media/js/jquery.dataTables.min.js"></script>
    <script src="~/Vendor/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
    <script src="~/Vendor/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="~/Vendor/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="~/Vendor/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="~/Vendor/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
    <script src="~/Vendor/datatablesExcelExport/dataTable1.4.0-buttons.js"></script>
    <script src="~/Vendor/datatablesExcelExport/JSZip3.1.3.min.js"></script>
    <script src="~/Vendor/pdfmake/build/pdfmake.min.js"></script>
    <script src="~/Vendor/pdfmake/build/vfs_fonts.js"></script>
    <script src="~/Vendor/datatablesExcelExport/jsZipDataTables.js"></script>
    <script src="~/Vendor/chartist/dist/chartist.min.js"></script>
    <script src="~/Vendor/chartjs/Chart.min.js"></script>
    <script src="~/vendor/d3/d3.min.js"></script>
    <script src="~/vendor/c3/c3.min.js"></script>
    <!-- App scripts -->
    <script src="~/Scripts/homer.js"></script>
    <script src="~/Scripts/charts.js"></script>
    <script src="~/Vendor/moment/min/moment.min.js"></script>
    <script src="~/Vendor/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
    <script>
        var f = new Date();
        var anho = f.getFullYear();
        var mes = (f.getMonth() + 1);
        var fecha = "01" + "-" + mes + "-" + anho;
        $(document).ready(function () {
            var fecha = "01" + "-" + mes + "-" + anho;
            var fecha2 = '@DateTime.Now';
            $('.fechaDesde').val('');
            $('.fechaHasta').val('');
            $('.fechaDesde').datetimepicker({
                format: 'MM/DD/YYYY',
                maxDate: '-' + new Date() + '',
            });
            $('.fechaHasta').datetimepicker({
                format: 'MM/DD/YYYY',
                maxDate: '-' + new Date() + '',
            });
        });

        function validarFechas1() {
            var fechadesde = $('#fechaDesde1').val().split("/");
            var fechaHasta = $('#fechaHasta1').val().split("/");
            var fecha1 = new Date(fechadesde[2], fechadesde[0] - 1, fechadesde[1]);
            var fecha2 = new Date(fechaHasta[2], fechaHasta[0] - 1, fechaHasta[1]);
            var tipo = 1; //Para buscar solo solicitados vs aprobados
            if (fecha1 <= fecha2 && $('#fechaDesde1').val() != "" && $('#fechaHasta1').val() != "") {
                $('.errorFechas').hide();
                $('#tabla_solicitados_vs_aprobados').find('tbody').empty();
                var fechaI = $('#fechaDesde1').val();
                var fechaF = $('#fechaHasta1').val();
                buscarDatos(fechaI, fechaF, tipo);
            } else {
                $('.errorFechas').show();
                $('#tabla_solicitados_vs_aprobados').find('tbody').empty();
            }
        }

        function validarFechas2() {
            var fechadesde = $('#fechaDesde2').val().split("/");
            var fechaHasta = $('#fechaHasta2').val().split("/");
            var fecha1 = new Date(fechadesde[2], fechadesde[0] - 1, fechadesde[1]);
            var fecha2 = new Date(fechaHasta[2], fechaHasta[0] - 1, fechaHasta[1]);
            var tipo = 2; //Para buscar solo aprobados vs facturados
            if (fecha1 <= fecha2 && $('#fechaDesde2').val() != "" && $('#fechaHasta2').val() != "") {
                $('.errorFechas').hide();
                $('#tabla_aprobados_vs_facturados').find('tbody').empty();
                var fechaI = $('#fechaDesde2').val();
                var fechaF = $('#fechaHasta2').val();
                buscarDatos(fechaI, fechaF, tipo);
            } else {
                $('.errorFechas').show();
                $('#tabla_aprobados_vs_facturados').find('tbody').empty();
            }
        }

        function validarFechas3() {
            var fechadesde = $('#fechaDesde3').val().split("/");
            var fechaHasta = $('#fechaHasta3').val().split("/");
            var fecha1 = new Date(fechadesde[2], fechadesde[0] - 1, fechadesde[1]);
            var fecha2 = new Date(fechaHasta[2], fechaHasta[0] - 1, fechaHasta[1]);
            var tipo = 3; //Para buscar solo aprobados vs desistidos
            if (fecha1 <= fecha2 && $('#fechaDesde3').val() != "" && $('#fechaHasta3').val() != "") {
                $('.errorFechas').hide();
                $('#tabla_aprobados_vs_facturados').find('tbody').empty();
                var fechaI = $('#fechaDesde3').val();
                var fechaF = $('#fechaHasta3').val();
                buscarDatos(fechaI, fechaF, tipo);
            } else {
                $('.errorFechas').show();
                $('#tabla_aprobados_vs_facturados').find('tbody').empty();
            }
        }

        function validarFechas4() {
            var fechadesde = $('#fechaDesde4').val().split("/");
            var fechaHasta = $('#fechaHasta4').val().split("/");
            var fecha1 = new Date(fechadesde[2], fechadesde[0] - 1, fechadesde[1]);
            var fecha2 = new Date(fechaHasta[2], fechaHasta[0] - 1, fechaHasta[1]);
            var tipo = 4; //Para buscar solo solicitados vs rechazados
            if (fecha1 <= fecha2 && $('#fechaDesde4').val() != "" && $('#fechaHasta4').val() != "") {
                $('.errorFechas').hide();
                $('#tabla_solicitados_vs_rechazados').find('tbody').empty();
                var fechaI = $('#fechaDesde4').val();
                var fechaF = $('#fechaHasta4').val();
                buscarDatos(fechaI, fechaF, tipo);
            } else {
                $('.errorFechas').show();
                $('#tabla_solicitados_vs_rechazados').find('tbody').empty();
            }
        }

        function validarFechas5() {
            var fechadesde = $('#fechaDesde5').val().split("/");
            var fechaHasta = $('#fechaHasta5').val().split("/");
            var fecha1 = new Date(fechadesde[2], fechadesde[0] - 1, fechadesde[1]);
            var fecha2 = new Date(fechaHasta[2], fechaHasta[0] - 1, fechaHasta[1]);
            var tipo = 5; //Para buscar solo aporbados sin confirmar
            if (fecha1 <= fecha2 && $('#fechaDesde5').val() != "" && $('#fechaHasta5').val() != "") {
                $('.errorFechas').hide();
                $('#tabla_aprobados_sin_confirmar').find('tbody').empty();
                var fechaI = $('#fechaDesde5').val();
                var fechaF = $('#fechaHasta5').val();
                buscarDatos(fechaI, fechaF, tipo);
            } else {
                $('.errorFechas').show();
                $('#tabla_aprobados_sin_confirmar').find('tbody').empty();
            }
        }

        function validarFechas6() {
            var fechadesde = $('#fechaDesde6').val().split("/");
            var fechaHasta = $('#fechaHasta6').val().split("/");
            var fecha1 = new Date(fechadesde[2], fechadesde[0] - 1, fechadesde[1]);
            var fecha2 = new Date(fechaHasta[2], fechaHasta[0] - 1, fechaHasta[1]);
            var tipo = 6; //Para buscar solo financieras más penetracion
            if (fecha1 <= fecha2 && $('#fechaDesde6').val() != "" && $('#fechaHasta6').val() != "") {
                $('.errorFechas').hide();
                $('#tabla_financieras_mas_penetracion').find('tbody').empty();
                var fechaI = $('#fechaDesde6').val();
                var fechaF = $('#fechaHasta6').val();
                buscarDatos(fechaI, fechaF, tipo);
            } else {
                $('.errorFechas').show();
                $('#tabla_financieras_mas_penetracion').find('tbody').empty();
            }
        }

        function validarFechas7() {
            var fechadesde = $('#fechaDesde7').val().split("/");
            var fechaHasta = $('#fechaHasta7').val().split("/");
            var fecha1 = new Date(fechadesde[2], fechadesde[0] - 1, fechadesde[1]);
            var fecha2 = new Date(fechaHasta[2], fechaHasta[0] - 1, fechaHasta[1]);
            var tipo = 7; //Para buscar solo financieras más penetracion
            if (fecha1 <= fecha2 && $('#fechaDesde7').val() != "" && $('#fechaHasta7').val() != "") {
                $('.errorFechas').hide();
                $('#tabla_financieras_mas_desembolso').find('tbody').empty(),
                var fechaI = $('#fechaDesde7').val();
                var fechaF = $('#fechaHasta7').val();
                buscarDatos(fechaI, fechaF, tipo);
            } else {
                $('.errorFechas').show();
                $('#tabla_financieras_mas_desembolso').find('tbody').empty();
            }
        }

        function buscarDatos(fechaI, fechaF, tipo) {
            $.ajax({
                url: '/IndicadoresCreditos/buscarComparativos',
                data: {
                    fecha1: fechaI,
                    fecha2: fechaF,
                    tipo: tipo
                },
                cache: false,
                success: function (data) {
                    //$('#tabla_solicitados_vs_aprobados').find('tbody').empty()
                    //$('#tabla_aprobados_vs_facturados').find('tbody').empty()
                    //$('#tabla_aprobados_vs_desistidos').find('tbody').empty()
                    //$('#tabla_solicitados_vs_rechazados').find('tbody').empty()
                    //$('#tabla_aprobados_sin_confirmar').find('tbody').empty()
                    //$('#tabla_financieras_mas_penetracion').find('tbody').empty()
                    //$('#tabla_financieras_mas_desembolso').find('tbody').empty()
                    if (data.tipo == "1") {
                        $('#tabla_solicitados_vs_aprobados').find('tbody').append(
                            '<tr>'
                            + '<td align="right"><strong>100%</strong></td>'
                            + '<td align="right"><strong class="text-danger">' + parseInt(data.porcentaje) + '%</strong></td>'
                            + '</tr>'
                            + '<tr>'
                            + '<td align="right">' + data.contarSolicitados + '</td>'
                            + '<td align="right">' + data.contarAprobados + '</td>'
                            + '</tr>'
                        );
                    }
                    if (data.tipo == "2") {
                        $('#tabla_aprobados_vs_facturados').find('tbody').append(
                            '<tr>'
                            + '<td align="right"><strong>100%</strong></td>'
                            + '<td align="right"><strong class="text-danger">' + parseInt(data.porcentaje) + '%</strong></td>'
                            + '</tr>'
                            + '<tr>'
                            + '<td align="right">' + data.contarAprobados + '</td>'
                            + '<td align="right">' + data.contarFacturados + '</td>'
                            + '</tr>'

                        );
                    }
                    if (data.tipo == "3") {
                        $('#tabla_aprobados_vs_desistidos').find('tbody').append(
                            '<tr>'
                            + '<td align="right"><strong>100%</strong></td>'
                            + '<td align="right"><strong class="text-danger">' + parseInt(data.porcentaje) + '%</strong></td>'
                            + '</tr>'
                            + '<tr>'
                            + '<td align="right">' + data.contarAprobados + '</td>'
                            + '<td align="right">' + data.contarDesistidos + '</td>'
                            + '</tr>'
                        );
                    }
                    if (data.tipo == "4") {
                        $('#tabla_solicitados_vs_rechazados').find('tbody').append(
                            '<tr>'
                            + '<td align="right"><strong>100%</strong></td>'
                            + '<td align="right"><strong class="text-danger">' + parseInt(data.porcentaje) + '%</strong></td>'
                            + '</tr>'
                            + '<tr>'
                            + '<td align="right">' + data.contarSolicitados + '</td>'
                            + '<td align="right">' + data.contarRechazados + '</td>'
                            + '</tr>'
                        );
                    }
                    if (data.tipo == "5") {
                        $('#tabla_aprobados_sin_confirmar').find('tbody').append(
                            '<tr>'
                            + '<td align="right"><strong>100%</strong></td>'
                            + '<td align="right"><strong class="text-danger">' + parseInt(data.porcentaje) + '%</strong></td>'
                            + '</tr>'
                            + '<tr>'
                            + '<td align="right">' + data.contarSolicitados + '</td>'
                            + '<td align="right">' + data.contarSincerrar + '</td>'
                            + '</tr>'
                        );
                    }
                    if (data.tipo == "6") {
                        for (var i = 0; i < data.financieras.length; i++) {
                            $('#tabla_financieras_mas_penetracion').find('tbody').append(
                                //'<tr>'
                                //    + '<td align="right"><strong>100%</strong></td>'
                                //    + '<td align="right"><strong class="text-danger">' + parseInt(data.porcentaje) + '%</strong></td>'
                                //+ '</tr>'
                                '<tr>'
                                + '<td align="left">' + data.financieras[i].financiera + '</td>'
                                + '<td align="right">' + data.financieras[i].cantidad + '</td>'
                                + '</tr>'
                            );
                        }
                    }
                    if (data.tipo == "7") {
                        for (var i = 0; i < data.financieras.length; i++) {
                            $('#tabla_financieras_mas_desembolso').find('tbody').append(
                                '<tr>'
                                + '<td align="left">' + data.financieras[i].financiera + '</td>'
                                + '<td align="right">' + data.financieras[i].cantidad + '</td>'
                                + '</tr>'
                            );
                        }
                    }
                }
            });
        }

    </script>

}